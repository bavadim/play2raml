# Elbrus-play плагин

Плагин позволяет:

 - определять роуты в RAML формате, достаточно в conf создать файл *.raml (ссылка на реализацию - превоя строка в description, 
см. тесты для примера)
 - команда doc генерирует в `/target/scala-2.11/api` описание в HTML
 - команда test проверяет соответствие приложения RAML-спецификации

## Использование

Плагин чуть менее чем полностью состоит из нашего пропоритарного говнокода поэтому его нет в репозитариях. Для использования
нужно добавить плагин в локальный репозитарий. Сделать это можно выполнив в папке с плагином команду `sbt publishLocal`, после чего плагин локально будет доступен.

Сейчас плагин использует nodjs скрипты, поэтому перед запуском `test` или `doc` нужно поставить npm и выполнить 
`npm install -g "abao"; npm install -g "raml2html"`.

Для использования в проекте нужно:

 - добавить в project/plugins.sbt строчку `addSbtPlugin("raiffeisen" % "elbrus-play" % "0.1.0-SNAPSHOT")`
 - убрать строчку `addSbtPlugin("com.typesafe.play" % "sbt-plugin" % "2.4.3")`

Для публикации артефакта в локальный Nexus надо выполнить команду sbt publish. Перед этим должны быть выполнены следующие условия:

* у пользователя в Nexus должны быть права на публикацию артефактов 
* в локальной папке USER_HOME/.sbt должен находиться файл .credentials следующего вида:
```sh
realm=Sonatype Nexus Repository Manager
host=10.242.144.2
user=%AD_USER%
password=%AD_PASSWORD%
```
